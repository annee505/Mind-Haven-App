package com.example.mindhaven;

import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import com.example.mindhaven.model.Course;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class PracticalCoursesFragment extends Fragment {
    private RecyclerView coursesRecycler;
    private com.example.mindhaven.adapter.CourseAdapter adapter;
    private View emptyState;
    private List<Course> courses; // Changed to List<Course>

    @Nullable
    @Override
    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        View view = inflater.inflate(R.layout.fragment_practical_courses, container, false);

        coursesRecycler = view.findViewById(R.id.rvCourses);
        emptyState = view.findViewById(R.id.empty_state);
        coursesRecycler.setLayoutManager(new LinearLayoutManager(getContext()));

        initializeCourses();
        adapter = new com.example.mindhaven.adapter.CourseAdapter(courses);
        coursesRecycler.setAdapter(adapter);
        checkIfEmpty();

        return view;
    }

    private void initializeCourses() {
        courses = new ArrayList<>();

        // Stress Management Course
        List<String> stressLessons = Arrays.asList(
                "Understanding Stress Response",
                "Identifying Stress Triggers",
                "Building Resilience",
                "Time Management Skills"
        );
        List<String> stressExercises = Arrays.asList(
                "Progressive Muscle Relaxation",
                "Stress Diary Exercise",
                "Priority Matrix Creation",
                "Boundary Setting Practice"
        );
        courses.add(new Course( 
                "Stress Management",
                "Learn effective techniques to manage daily stress",
                stressLessons,
                stressExercises,
                "Beginner"
        ));

    }

    private void checkIfEmpty() {
        if (emptyState != null) {
            emptyState.setVisibility(courses.size() == 0 ? View.VISIBLE : View.GONE);
        }
    }
}